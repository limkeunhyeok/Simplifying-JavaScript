# 자바스크립트 코딩의 기술

## 3장 특수한 컬렉션을 이용해 코드 명료성을 극대화하라

### TIP 10 객체를 이용해 정적인 키-값을 탐색하라

- 객체는 변화가 없고 구조화된 키-값 데이터를 다루는 경우에 유용하다.
- 중괄호에 키-값을 작성하는 것을 객체 리터럴이라고 한다.
- 객체는 정적인 정보에 적합하며, 갱신, 반복, 대체, 정렬해야 할 정보에는 적절하지 않다.

### TIP 11 Object.assign()으로 조작 없이 객체를 생성하라

```javascript
// 원본 데이터를 유지하며 새로운 객체 생성
const defaults = {
  author: "",
  title: "",
  year: 2017,
  rating: null,
};

const book = {
  author: "Joe Morgan",
  title: "Simplifying JavaScript",
};

Object.assign({}, defaults, book);
// Object.assign(defaults, book); 원본 데이터 defaults가 변경됨
```

- 중첩된 객체가 있는 객체를 복사하는 것을 깊은 복사 또는 깊은 병합이라고 한다.
- 참조에 대한 복사만으로는 중첩된 객체에 깊은 복사를 적용할 수 없으며, 단지 참조의 위치를 복사하는 것에 불과하다.
- 중첩된 객체의 값을 변경하면 원본 객체와 복사한 객체 모두 변경된다.

### TIP 12 객체 펼침 연산자로 정보를 갱신하라

```javascript
const book = {
  title: "Response and Persons",
  author: "Derek Parfit",
};

const update = { ...book, year: 1984 };
```

- 새로운 정보는 펼침 연산자의 앞이나 뒤에 쉽게 추가할 수 있다.
- 배열 펼침 연산자와 다른 점은 동일한 키에 서로 다른 값을 추가하면 어떤 값이든 가장 마지막에 선언된 값을 사용한다는 것이다.

### TIP 13 맵으로 명확하게 키-값 데이터를 갱신하라

- 객체보다 맵을 컬렉션으로 선택하는 것이 좋은 경우
  - 키-값 쌍이 자주 추가되거나 삭제되는 경우
  - 키가 문자열이 아닌 경우

```javascript
let filters = new Map()
  .set("견종", "래브라도레트리버")
  .set("크기", "대형견")
  .set("색상", "갈색");
filters.get("크기"); // 대형견

or

let filters = new Map(
  [
    ["견종", "래브라도레트리버"]
    ["크기", "대형견"]
    ["색상", "갈색"]
  ]
)
filters.get("색상"); // 갈색
```

- 정보를 자주 변경하는 경우 객체보다 맵을 사용하는 것이 훨씬 편리하다.
  - 모든 동작과 의도가 매우 명료하게 보인다.

```javascript
const errors = {
  100: "이름이 잘못되었습니다.",
  110: "이름에는 문자만 입력할 수 있습니다.",
  200: "색상이 잘못되었습니다."
};

errors.100 // 에러
```

- 정수를 키로 하는 경우는 점 표기법으로 접근할 수 없다.
  - 배열 표기법으로 정보에 접근할 수는 있다.

```javascript
let errors = new Map([
  [100, "이름이 잘못되었습니다."],
  [110, "이름에는 문자만 입력할 수 있습니다."],
  [200, "색상이 잘못되었습니다."]
]);

errors.get(100);
```

- 맵은 여러 가지 자료형을 키로 받을 수 있다.

### TIP 14 맵과 펼침 연산자로 키-값 데이터를 순회하라

- 객체는 순서가 보장되지 않는다.
  - 객체는 정렬할 수 없다.

### TIP 15 맵 생성 시 부수 효과를 피하라

- 새로운 키로 맵을 생성하면 어떤 값이든 해당 키에 마지막으로 선언한 값을 사용한다.
- 객체 펼침 연산자를 활용하면 맵 구 개를 병합하는 코드를 한 줄로 작성할 수 있다.

### TIP 16 세트를 이용해 고윳값을 관리하라

- 세트에도 펼침 연산자를 사용할 수 있으며, 세트가 배열을 반환한다.
